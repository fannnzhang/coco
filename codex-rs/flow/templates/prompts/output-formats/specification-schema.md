### **Project Specification Schema**

This template is designed to scale with your project's needs.

---

#### 1.0 需求概述
- **1.1 需求名称：** *填写 raw 文档中的名称或摘要。*
- **1.2 背景痛点：** *列出用户明确提到的痛点，例如信息丢失、token 浪费。*
- **1.3 目标与收益：**
  - 流程中断后 **MUST** 继续执行。
  - 历史 agent 信息 **MUST** 保留可复用。
  - 重新执行 **MUST NOT** 产生额外 token 消耗。

#### 2.0 功能范围
- **2.1 Agent 状态记录**
  - *记录时机：引用用户描述；若未说明则写“未提供”。*
  - *记录内容：逐条列出用户提及需要保存的要素；未提即写“未提供”。*
- **2.2 中断恢复流程**
  - *流程中断触发条件。*
  - *恢复入口与步骤，确保恢复点紧接最后成功的 agent。*
- **2.3 Token 成本控制**
  - *描述对重复执行和 token 消耗的限制。*

#### 3.0 用户旅程
> 采用“用户动作 → Flow 工具响应 → 结果”格式，仅复述原始需求中的场景。若只描述了单一场景，就仅填写该场景。

1. 用户触发 workflow → 系统记录当前 agent 状态 → 结果：状态可供后续恢复。
2. 用户因中断重新启动 → 系统定位最后成功的 agent → 结果：继续执行且不重复已完成步骤。

#### 4.0 状态数据与存储
- **4.1 状态内容：** *列出用户明确要求保存的信息；未说明则标注“未提供”。*
- **4.2 存储介质 / 目录：** *根据原文填写；未说明则标注“未提供”。*
- **4.3 一致性要求：** *仅记录用户原话，例如“不能浪费之前的信息”。*

#### 5.0 异常与恢复策略
- **5.1 中断场景：** *描述用户提到的中断类型；未提则写“未提供”。*
- **5.2 恢复约束：** *写明“必须从中断点继续”“不得重复执行”等原始要求。*

#### 6.0 验收标准
- 成功恢复一次中断 workflow 时 **MUST** 无信息丢失。
- 单次恢复 **MUST NOT** 产生额外 token 消耗。
- 若用户提供了其他可验证标准，逐条列出；否则标注“未提供”。

#### 7.0 范围与风险
- **7.1 In Scope：** *只列出用户明确要求的事项（状态记录、恢复执行、token 节约）。*
- **7.2 Out of Scope：** *若用户明确排除某能力，写出具体条目；否则写“用户未指定”。*
- **7.3 未决 / 依赖：** *罗列原文中的疑问或缺失信息，提醒后续确认。*
