name = "agent_reasoning_upgrade"
version = "0.1.0"

[defaults]
engine = "codex"
mock = true
model = "gpt-5-codex"

[agents.init]
engine = "codex"
model = "gpt-5"
prompt = ".codex-flow/prompts/main-agents/00-init.md"
reasoning_effort = "medium"
reasoning_summary = "concise"
description = "init"

[agents.architecture]
engine = "codex"
model = "gpt-5-codex"
prompt = ".codex-flow/prompts/agents/01-architecture-agent.md"
reasoning_effort = "high"
reasoning_summary = "detailed"
description = "Produces the Flow architecture blueprint focused on reasoning overrides."

[agents.planning]
engine = "codex"
model = "gpt-5-codex"
prompt = ".codex-flow/prompts/agents/02-planning-agent.md"
reasoning_effort = "medium"
reasoning_summary = "concise"
description = "Turns the specification into an iterative delivery plan."

[agents.task_breakdown]
engine = "codex"
model = "gpt-5-codex"
prompt = ".codex-flow/prompts/agents/03-task-breakdown-agent.md"
reasoning_effort = "medium"
reasoning_summary = "concise"
description = "Expands the plan into executable tasks plus acceptance checks."

[agents.context_manager]
engine = "codex"
model = "gpt-5"
prompt = ".codex-flow/prompts/agents/04-context-manager-agent.md"
reasoning_effort = "medium"
reasoning_summary = "auto"
description = "Collects repo context (files, commands, constraints) for implementers."

[agents.code_generation]
engine = "codex"
model = "gpt-5-codex"
prompt = ".codex-flow/prompts/agents/05-code-generation-agent.md"
reasoning_effort = "high"
reasoning_summary = "auto"
description = "Executes the implementation plan to add reasoning configuration support."

[agents.validation]
engine = "codex"
model = "gpt-5"
prompt = ".codex-flow/prompts/agents/06-task-validation-agent.md"
reasoning_effort = "medium"
reasoning_summary = "concise"
description = "Verifies code/tests, ensuring reasoning controls behave as expected."

[agents.runtime_prep]
engine = "codex"
model = "gpt-5"
prompt = ".codex-flow/prompts/agents/07-runtime-preparation-agent.md"
reasoning_effort = "minimal"
reasoning_summary = "auto"
description = "Produces operational notes (commands, env vars, follow-up)."

[workflow]
description = "End-to-end workflow that reads the reasoning specification, plans the change, implements it, and validates the feature."

[[workflow.steps]]
agent = "init"
description = "Initialize the project to support codex-flow."

  [[workflow.steps]]
  agent = "architecture"
  description = "Synthesize the spec into a Flow reasoning blueprint."

  [[workflow.steps]]
  agent = "planning"
  description = "Turn the blueprint into an iterative delivery plan."

  [[workflow.steps]]
  agent = "task_breakdown"
  description = "Produce executable tasks and acceptance criteria."

  [[workflow.steps]]
  agent = "context_manager"
  description = "Collect repo context, files, and commands for implementers."

  [[workflow.steps]]
  agent = "code_generation"
  description = "Implement reasoning configuration support per tasks."

  [[workflow.steps]]
  agent = "validation"
  description = "Validate code, docs, and workflows; surface issues."

  [[workflow.steps]]
  agent = "runtime_prep"
  description = "Document how to run tests, roll out, and hand off."
